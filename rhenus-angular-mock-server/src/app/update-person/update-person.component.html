<div class="container">
  <p-toast></p-toast>
  <form [formGroup]="personForm" test-data="update-form">
    <div class="formgrid grid">
      <div class="field col my-3">
        <label class="mr-2" for="firstname2">New First name: </label>
        <input
          placeholder="{{ this.personForm.controls['first_name'].value }}"
          formControlName="first_name"
          id="firstname2"
          type="text"
          class="text-base text-color p-2"
          pTooltip="Enter New First Name"
          tooltipPosition="right"
        />
      </div>
      <div
        test-data="first-name-error"
        class="p-mt-2"
        *ngIf="
          personForm.controls['first_name'].errors &&
          (personForm.controls['first_name'].touched ||
            personForm.controls['last_name'].dirty)
        "
      >
        <small
          class="p-error"
          *ngIf="
            personForm.controls['first_name'].hasError('minlength') ||
            personForm.controls['first_name'].hasError('maxlength')
          "
          >Number of Character should be between 2 to 20
        </small>
      </div>
      <div class="field col my-3" test-data="last-name-input">
        <label class="mr-2" for="lastname2">New Last name: </label>
        <input
          formControlName="last_name"
          id="lastname2"
          type="text"
          class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
          pTooltip="Enter New Last Name"
          tooltipPosition="right"
        />
      </div>
      <div
        test-data="last-name-error"
        class="p-mt-2"
        *ngIf="
          personForm.controls['last_name'].errors &&
          (personForm.controls['last_name'].touched ||
            personForm.controls['last_name'].dirty)
        "
      >
        <small
          class="p-error"
          *ngIf="
            personForm.controls['last_name'].hasError('minlength') ||
            personForm.controls['last_name'].hasError('maxlength')
          "
          >Number of Character should be between 2 to 20
        </small>
      </div>
      <div class="field col my-3" test-data="email-input">
        <label class="mr-2" for="email">New Email: </label>
        <input
          formControlName="email"
          id="email"
          type="email"
          class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
          pTooltip="Enter New Email"
          tooltipPosition="right"
        />
      </div>
      <div
        test-data="email-error"
        class="p-mt-2"
        *ngIf="
          personForm.controls['email'].errors &&
          (personForm.controls['email'].touched ||
            personForm.controls['email'].dirty)
        "
      >
        <small
          class="p-error"
          *ngIf="personForm.controls['email'].hasError('email')"
          >*Enter email format.
        </small>
        <small
          class="p-error"
          *ngIf="personForm.controls['email'].hasError('maxlength')"
          >Number of Character should be less that 30
        </small>
      </div>
    </div>
    <div class="row align-items-center mx-2">
      <div class="col-7"></div>
      <div class="col-5">
        <button
          test-data="update-button"
          pButton
          pRipple
          class="p-button-raised p-button-text px-3 py-2 m-2"
          (click)="updateDetail()"
          label="Save"
          [disabled]="!personForm.valid"
        ></button>

        <button
          test-data="cancel-button"
          pButton
          pRipple
          class="p-button-raised p-button-text px-3 py-2 m-2"
          type="button"
          label="Cancel"
          (click)="cancelPersonDetail()"
        ></button>
      </div>
    </div>
  </form>
</div>

<div class="card container-fluid my-2" style="width: 80%">
  <p-toast></p-toast>
  <div class="container-fluid col-12">
    <div class="mx-auto">
      <div class="flex row my-3 g-5 gy-2 align-items-center">
        <div class="col-9 my-2 align-self-center">
          <h1>People</h1>
        </div>
        <div class="col-3 flex align-items-center justify-content-center">
          <p-button
            pRipple
            styleClass="p-button-raised p-button-text"
            label="Add New Person"
            icon="pi pi-plus"
            (onClick)="showResponsiveDialog()"
          ></p-button>
          <p-dialog
            header="Create New Person"
            [(visible)]="displayResponsive"
            [breakpoints]="{ '960px': '75vw' }"
            [style]="{ width: '50vw' }"
            [baseZIndex]="10000"
            [draggable]="false"
            [resizable]="false"
            ><app-person></app-person
          ></p-dialog>
        </div>
      </div>
    </div>

    <div class="flex align-items-center justify-content-center">
      <div>
        <p-table
          [value]="users"
          [paginator]="true"
          [rows]="5"
          [showCurrentPageReport]="true"
          [tableStyle]="{ 'min-width': '50rem' }"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          [rowsPerPageOptions]="[10, 25, 50]"
          [columns]="cols"
        >
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th style="width: 4rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
              </th>
              <th *ngFor="let col of columns">
                {{ col.header }}
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-user>
            <tr>
              <td>
                <p-tableCheckbox [value]="user"></p-tableCheckbox>
              </td>
              <td>{{ user.id }}</td>
              <td>{{ user.first_name }}</td>
              <td>{{ user.last_name }}</td>
              <td>{{ user.email }}</td>
              <td>
                <div class="row align-items-center mx-auto">
                  <div class="col-2 mx-1">
                    <p-button
                      icon="pi pi-user"
                      styleClass="p-button-rounded p-button-text p-button-raised"
                      (onClick)="viewPersonDetail(user.id)"
                    ></p-button>
                  </div>
                  <div class="col-2 mx-1">
                    <p-button
                      icon="pi pi-user-edit"
                      styleClass="p-button-rounded p-button-help p-button-text p-button-raised"
                      (onClick)="editPerson(user.id)"
                    ></p-button>
                  </div>
                  <div class="col-2 mx-1">
                    <p-button
                      icon="pi pi-times"
                      styleClass="p-button-rounded p-button-danger p-button-text p-button-raised"
                      (onClick)="deletePerson(user.id)"
                    ></p-button>
                  </div>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>
